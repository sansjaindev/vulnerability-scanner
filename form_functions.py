import requests
from bs4 import BeautifulSoup as bs


def get_forms(website):
	"""
	Given a `url`, it returns all forms from the HTML content
	"""
	response = requests.get(website)
	html_content = response.text
	soup = bs(html_content, 'html.parser')
	return soup.find_all('form')


def get_form_details(form):
	"""
	This function extracts all possible useful information about an HTML `form`
	"""

	details = {}

	try:
		action = form.attrs.get('action')
	except:
		action = None
	method = form.attrs.get('method', 'get').lower()

	inputs = []
	for input in form.find_all('input'):
		input_type = input.attrs.get('type', 'text')
		input_name = input.attrs.get('name')
		input_value = input.attrs.get('value', '')

		inputs.append({'type' : input_type,
					   'name' : input_name,
					   'value' : input_value})
	
	details['action'] = action
	details['method'] = method
	details['inputs'] = inputs

	return details